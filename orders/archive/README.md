# アーカイブディレクトリ

## 📚 概要

このディレクトリには処理完了済みの発注書を年月別に保管します。

## 📁 ディレクトリ構造

```
archive/
├── README.md      # このファイル
├── 2025-01/      # 2025年1月処理分
├── 2025-02/      # 2025年2月処理分
└── ...
```

## 🗂️ アーカイブルール

### 1. ディレクトリ命名規則
- 形式: `YYYY-MM` (年-月)
- 例: `2025-01`, `2025-12`

### 2. アーカイブのタイミング
- 記事作成が完了した発注書
- 顧客への納品が完了した案件
- 処理から30日以上経過した発注書

### 3. ファイル移動手順
```bash
# 年月ディレクトリがない場合は作成
mkdir -p orders/archive/2025-01

# 発注書を移動
mv orders/G1234567_[サンプル]企業名_発注書.xlsx orders/archive/2025-01/

# 移動日をファイル名に追加することも可能
mv orders/G1234567_[サンプル]企業名_発注書.xlsx \
   orders/archive/2025-01/G1234567_[サンプル]企業名_発注書_20250106.xlsx
```

## 🔍 アーカイブ検索

### 特定月のファイル一覧
```bash
ls orders/archive/2025-01/*.xlsx
```

### 全アーカイブから特定顧客を検索
```bash
find orders/archive -name "*[サンプル]企業名*"
```

### G-IDで検索
```bash
find orders/archive -name "G1234567*"
```

## 📊 統計情報

### 月別処理件数
```bash
for dir in orders/archive/*/; do
    echo "$(basename $dir): $(ls $dir/*.xlsx 2>/dev/null | wc -l) 件"
done
```

## ⚠️ 注意事項

1. **定期的な整理**
   - 古いアーカイブは定期的に外部ストレージへバックアップ

2. **命名ルールの遵守**
   - アーカイブ時もファイル名の規則を維持

3. **削除は慎重に**
   - アーカイブファイルの削除前に必ずバックアップを確認

---

最終更新: 2025年1月6日